<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:converters="clr-namespace:PuckevichPlayer.Converters">
    <converters:DownloadedPercentsToRatioWidthConverter x:Key="DownloadedPercentsToRatioWidthConverter" />
    <ControlTemplate x:Key="MediaMusic">
        <Viewbox xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation">
            <Grid>
                <Grid Name="backgroundGrid" Width="128" Height="128" Visibility="Collapsed" />
                <Path Data="M37.11425,16.797999C38.863781,18.269512 40.000999,20.44513 40.000999,22.904751 40.000999,25.365671 38.863781,27.541588 37.11425,29.013L34.195004,26.161377C35.258221,25.442572 36.001633,24.287663 36.001633,22.904751 36.001633,21.525938 35.258221,20.371029 34.195004,19.653523z M45.706963,8.4020007C49.562447,12.057141 52,17.184754 52,22.904881 52,28.627707 49.562447,33.75802 45.706963,37.4L42.836998,34.601839C45.99017,31.678474 47.999313,27.539183 47.999313,22.904881 47.999313,18.273278 45.99017,14.133986 42.836998,11.210622z M26.447412,5.4093134C27.376011,5.4274888,27.999001,6.2373606,27.999001,7.6814044L27.999001,39.680195C27.999001,41.879509,26.552422,42.507008,24.782248,41.203705L14.417795,33.453674C12.64952,32.14637 11.20104,30.975763 11.20104,31.094263 11.20104,31.208866 9.4002562,30.908064 7.2017679,30.908064L4.0005827,30.908064C1.8007544,30.908064,0,29.899059,0,27.703651L0,18.906717C0,16.706109,1.8007544,14.905302,4.0005827,14.905302L7.2017679,14.905302C9.4002562,14.905302 11.20104,15.173603 11.20104,15.491405 11.20104,15.818107 12.64952,15.012103 14.417795,13.708797L24.782248,6.0550587C25.390745,5.6074945,25.961004,5.3997924,26.447412,5.4093134z M54.316631,0C60.28199,5.8124751 64,13.92184 64,22.9048 64,31.889162 60.28199,39.999828 54.316631,45.811001L51.445004,43.006313C56.709175,37.907436 60.000095,30.794167 60.000095,22.9048 60.000095,15.019635 56.709175,7.8958361 51.445004,2.8060181z" 
                      Stretch="Uniform" Fill="{StaticResource ThatGrayColorBrush}" Width="68" Height="68" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                    <Path.RenderTransform>
                        <TransformGroup>
                            <TransformGroup.Children>
                                <RotateTransform Angle="0" />
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </TransformGroup.Children>
                        </TransformGroup>
                    </Path.RenderTransform>
                </Path>
            </Grid>
        </Viewbox>

    </ControlTemplate>
    <ControlTemplate x:Key="MediaPlay">
        <Viewbox xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation">
            <Grid>
                <Grid Name="backgroundGrid" Width="128" Height="128" Visibility="Collapsed" />
                <Path Data="F1M1188.2,1715.23L1169.93,1728.57 1151.66,1741.9 1151.66,1715.23 1151.66,1688.57 1169.93,1701.9 1188.2,1715.23z" 
                      Stretch="Uniform" Fill="{StaticResource ThatGrayColorBrush}" Width="68" Height="68" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                    <Path.RenderTransform>
                        <TransformGroup>
                            <TransformGroup.Children>
                                <RotateTransform Angle="0" />
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </TransformGroup.Children>
                        </TransformGroup>
                    </Path.RenderTransform>
                </Path>
            </Grid>
        </Viewbox>
    </ControlTemplate>
    <ControlTemplate x:Key="MediaPause">
        <Viewbox xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation">
            <Grid>
                <Grid Name="backgroundGrid" Width="128" Height="128" Visibility="Collapsed" />
                <Path Data="M27.270001,0L44.310001,0 44.310001,48.643002 27.270001,48.643002z M0,0L17.040001,0 17.040001,48.643002 0,48.643002z" 
                      Stretch="Uniform" Fill="{StaticResource ThatGrayColorBrush}" Width="68" Height="68" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                    <Path.RenderTransform>
                        <TransformGroup>
                            <TransformGroup.Children>
                                <RotateTransform Angle="0" />
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </TransformGroup.Children>
                        </TransformGroup>
                    </Path.RenderTransform>
                </Path>
            </Grid>
        </Viewbox>
    </ControlTemplate>
    <Style x:Key="CurrentTrackBorderStyle" TargetType="Border">
        <Setter Property="Background" Value="Transparent"></Setter>
        <Style.Triggers>
            <DataTrigger Binding="{Binding AudioState}" Value="Playing">
                <Setter Property="Background" Value="Black"></Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding AudioState}" Value="Paused">
                <Setter Property="Background" Value="Black"></Setter>
            </DataTrigger>
        </Style.Triggers>
    </Style>
    <Style x:Key="DownloadedProgressBorderStyle" TargetType="FrameworkElement">
        <Setter Property="Visibility" Value="Hidden" />
        <Setter Property="Width">
            <Setter.Value>
                <MultiBinding Converter="{StaticResource DownloadedPercentsToRatioWidthConverter}">
                    <Binding Path="Downloaded"/>
                    <Binding Path="ActualWidth" RelativeSource="{RelativeSource Mode=FindAncestor,
                                                     AncestorType=UserControl}"/>
                </MultiBinding>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <DataTrigger Binding="{Binding AudioState}" Value="Playing">
                <Setter Property="Visibility" Value="Visible"></Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding AudioState}" Value="Paused">
                <Setter Property="Visibility" Value="Visible"></Setter>
            </DataTrigger>
        </Style.Triggers>
    </Style>
    <Style TargetType="TextBlock" x:Key="AudioNameText">
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
        <Setter Property="FontSize" Value="25"/>
    </Style>
    <Style TargetType="FrameworkElement" x:Key="AudioEntryRightThing">
        <Setter Property="Margin" Value="4 0 8 0"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="HorizontalAlignment" Value="Center"/>
    </Style>
    <Style x:Key="AudiEntryDurationStyle" BasedOn="{StaticResource AudioEntryRightThing}" TargetType="TextBlock">
        <Setter Property="Visibility" Value="Collapsed"></Setter>
        <Style.Triggers>
            <DataTrigger Binding="{Binding AudioState}" Value="Stopped">
                <Setter Property="Visibility" Value="Visible"></Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding AudioState}" Value="NotInit">
                <Setter Property="Visibility" Value="Visible"></Setter>
            </DataTrigger>
        </Style.Triggers>
    </Style>
    <Style x:Key="AudioEntryPlayPauseRightIndicator" BasedOn="{StaticResource AudioEntryRightThing}"
           TargetType="ContentControl">
        <Setter Property="Template" Value="{x:Null}" />
        <Setter Property="Visibility" Value="Collapsed"></Setter>
        <Style.Triggers>
            <DataTrigger Binding="{Binding AudioState}" Value="Playing">
                <Setter Property="Visibility" Value="Visible"></Setter>
                <Setter Property="Template" Value="{StaticResource MediaMusic}" />
                <Setter Property="Width" Value="100"></Setter>
                <Setter Property="LayoutTransform">
                    <Setter.Value>
                        <ScaleTransform ScaleX="0.4"
                                        ScaleY="0.4"
                                        CenterX="0" 
                                        CenterY="0" />
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <DataTrigger Binding="{Binding AudioState}" Value="Paused">
                <Setter Property="Visibility" Value="Visible"></Setter>
                <Setter Property="Template" Value="{StaticResource MediaPause}" />
                <Setter Property="Width" Value="100"></Setter>
                <Setter Property="LayoutTransform">
                    <Setter.Value>
                        <ScaleTransform ScaleX="0.3"
                                        ScaleY="0.3"
                                        CenterX="0" 
                                        CenterY="0" />
                    </Setter.Value>
                </Setter>
            </DataTrigger>
        </Style.Triggers>

    </Style>

    <Style x:Key="SliderThumbStyle" TargetType="{x:Type Thumb}">
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Grid>
                        <Border Name="innerBorder"
                                Background="#ADADAD"
                                Height="12" Width="12" CornerRadius="7" Opacity="1" >
                            <Border.Effect>
                                <BlurEffect Radius="6" RenderingBias="Performance"></BlurEffect>
                            </Border.Effect>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="SliderThumbStyle2" TargetType="{x:Type Thumb}">
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Grid>
                        <Border Name="outerBorder"
                            Background="#5534b4e3"
                            BorderBrush="#5534b4e3"
                            Height="26" Width="26" Opacity="1" BorderThickness="2" CornerRadius="13"/>
                        <Border Name="innerBorder"
                            Background="#FF34b4e3"
                            BorderBrush="#FF34b4e3"
                            Height="10" Width="10" CornerRadius="5" Opacity="1" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="outerBorder" Property="BorderBrush" Value="#BB34b4e3" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="outerBorder" Property="Background" Value="#55ACACAC" />
                            <Setter TargetName="outerBorder" Property="BorderBrush" Value="#55ACACAC" />
                            <Setter TargetName="innerBorder" Property="Width" Value="4" />
                            <Setter TargetName="innerBorder" Property="Height" Value="4" />
                            <Setter TargetName="innerBorder" Property="CornerRadius" Value="2" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="SliderRepeatButtonStyle" TargetType="{x:Type RepeatButton}">
        <Setter Property="OverridesDefaultStyle" Value="true"/>
        <Setter Property="IsTabStop" Value="false"/>
        <Setter Property="Focusable" Value="false"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <Rectangle Fill="Transparent"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <ControlTemplate x:Key="CustomAudioSliderControlTemplate" TargetType="{x:Type Slider}">
        <Grid Margin="5">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" MinHeight="{TemplateBinding MinHeight}"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <TickBar x:Name="TopTick" Visibility="Collapsed" Fill="LightGray" Placement="Top" SnapsToDevicePixels="True"
                     Height="4" Margin="0,0,0,2" />
            <Border x:Name="TrackBackground"
                    Grid.Row="1"
                    Margin="10,0"
                    BorderThickness="2"
                    BorderBrush="LightGray"
                    VerticalAlignment="Center" Height="4" />
            <Track x:Name="PART_Track" Grid.Row="1">
                <Track.DecreaseRepeatButton>
                    <RepeatButton Command="{x:Static Slider.DecreaseLarge}"  Style="{StaticResource SliderRepeatButtonStyle}" />
                </Track.DecreaseRepeatButton>
                <Track.IncreaseRepeatButton>
                    <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Style="{StaticResource SliderRepeatButtonStyle}"/>
                </Track.IncreaseRepeatButton>
                <Track.Thumb>
                    <Thumb x:Name="Thumb" Style="{StaticResource SliderThumbStyle}" />
                </Track.Thumb>
            </Track>
            <TickBar x:Name="BottomTick" Grid.Row="2" Visibility="Collapsed" Fill="LightGray" Placement="Bottom"
                     SnapsToDevicePixels="True" Height="4" Margin="0,2,0,0"/>
        </Grid>
        <ControlTemplate.Triggers>
            <Trigger Property="TickPlacement" Value="TopLeft">
                <Setter TargetName="TopTick" Property="Visibility" Value="Visible" />
            </Trigger>
            <Trigger Property="TickPlacement" Value="BottomRight">
                <Setter TargetName="BottomTick" Property="Visibility" Value="Visible" />
            </Trigger>
            <Trigger Property="TickPlacement" Value="Both">
                <Setter TargetName="TopTick" Property="Visibility" Value="Visible" />
                <Setter TargetName="BottomTick" Property="Visibility" Value="Visible" />
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>
    
</ResourceDictionary>